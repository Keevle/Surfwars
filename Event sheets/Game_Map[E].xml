<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Game_Map[E]</name>
    <events>
        <variable constant="0" name="Debug" sid="907603791525379" static="0" type="number">0</variable>
        <variable constant="0" name="exp_multi" sid="381544514281501" static="0" type="number">0</variable>
        <variable constant="0" name="clientid" sid="464033409579640" static="0" type="number">0</variable>
        <variable constant="0" name="var_CamScale" sid="945964702817877" static="0" type="number">0.5</variable>
        <event-group description="" sid="615628593897822" title="OnStartEvents">
            <sub-events>
                <event-block sid="197549512418868">
                    <conditions>
                        <condition id="1" name="Add comment" sid="298700984408439" type="Comments">
                            <param id="0" name="Comment">&quot;Camera&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="786715252659330">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="304645579210766" type="System" />
                        <condition id="-14" name="Compare variable" sid="638524672880782" type="System">
                            <param id="0" name="Variable">clientid</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">clientid</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="100" name="Create local camera" sid="681036100357115" type="MagiCam">
                            <param id="0" name="Name">&quot;Main&quot;</param>
                            <param id="1" name="X">obj_Player.X</param>
                            <param id="2" name="Y">obj_Player.Y</param>
                            <param id="3" name="Scale">var_CamScale</param>
                            <param id="4" name="Active">1</param>
                        </action>
                        <action id="0" name="Follow object" sid="595259147785955" type="MagiCam">
                            <param id="0" name="Camera">&quot;&quot;</param>
                            <param id="1" name="Object">obj_Player</param>
                            <param id="2" name="Weight">1</param>
                            <param id="3" name="Image point">0</param>
                        </action>
                        <action id="1" name="Set follow lag" sid="722604625185535" type="MagiCam">
                            <param id="0" name="Camera">&quot;&quot;</param>
                            <param id="1" name="Lag">90</param>
                        </action>
                        <action id="3" name="Enable following" sid="417592661657379" type="MagiCam">
                            <param id="0" name="Camera">&quot;&quot;</param>
                            <param id="1" name="Following">0</param>
                        </action>
                        <action id="101" name="Load API" sid="324107025950493" type="JSShell">
                            <param id="0" name="URL">&quot;deepstream.min.js&quot;</param>
                            <param id="1" name="Success callback tag">&quot;Succcess&quot;</param>
                            <param id="2" name="Error callback tag">&quot;Error&quot;</param>
                        </action>
                        <action id="-12" name="Set group active" sid="948202405858621" type="System">
                            <param id="0" name="Group name">&quot;RPG elements&quot;</param>
                            <param id="1" name="State">0</param>
                        </action>
                        <action id="-6" name="Set height" sid="487135597029163" type="wv">
                            <param id="0" name="Height">300</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="876392658365182">
                            <conditions>
                                <condition id="-10" name="For" sid="137697934032103" type="System">
                                    <param id="0" name="Name">&quot;createballs&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">400</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="881407467091526" type="System">
                                    <param id="0" name="Object to create">Sprite2</param>
                                    <param id="1" name="Layer">Sprite2.LayerName</param>
                                    <param id="2" name="X">random(LayoutWidth)</param>
                                    <param id="3" name="Y">random(LayoutHeight)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="423070551329957" title="Camera Control">
            <sub-events>
                <event-block sid="549099804889527">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="633163765184186" type="System">
                            <param id="0" name="Variable">var_CamScale</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0.45</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block any="1" sid="631514432551770">
                            <conditions>
                                <condition id="2" inverted="1" name="Mouse button is down" sid="398168685470389" type="Mouse">
                                    <param id="0" name="Mouse button">0</param>
                                </condition>
                                <condition id="1" name="Compare progress" sid="784099734580724" type="hud_BoostBar">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Value">5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="524183553303400" type="System">
                                    <param id="0" name="Variable">var_CamScale</param>
                                    <param id="1" name="Value">0.5</param>
                                </action>
                                <action id="301" name="Transition to zoom level" sid="587777052661597" type="MagiCam">
                                    <param id="0" name="Name">&quot;&quot;</param>
                                    <param id="1" name="Zoom">var_CamScale</param>
                                    <param id="2" name="Duration">0.5</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="511156353212938">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="235324598434893" type="System">
                            <param id="0" name="Variable">var_CamScale</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0.5</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="764810674988713">
                            <conditions>
                                <condition id="2" name="Mouse button is down" sid="753568223850921" type="Mouse">
                                    <param id="0" name="Mouse button">0</param>
                                </condition>
                                <condition id="1" name="Compare progress" sid="781156069890341" type="hud_BoostBar">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="Value">5</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="268792434216567" type="System">
                                    <param id="0" name="Variable">var_CamScale</param>
                                    <param id="1" name="Value">0.45</param>
                                </action>
                                <action id="301" name="Transition to zoom level" sid="802168504213340" type="MagiCam">
                                    <param id="0" name="Name">&quot;&quot;</param>
                                    <param id="1" name="Zoom">var_CamScale</param>
                                    <param id="2" name="Duration">0.5</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="461355975177335" title="RPG elements">
            <sub-events>
                <event-group description="" sid="981131722567118" title="Level" />
                <event-group description="" sid="165527878105743" title="Stats" />
            </sub-events>
        </event-group>
        <event-group description="" sid="974691263515729" title="Movement">
            <sub-events>
                <event-block sid="395902507177415">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="947973537847940" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="270642032749107" type="txt_ProgressDebug">
                            <param id="0" name="Text">hud_BoostBar.Progress</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="973919314820683">
                    <conditions>
                        <condition id="2" name="Mouse button is down" sid="461460283435947" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                        </condition>
                        <condition id="-6" name="Every X seconds" sid="741306117540006" type="System">
                            <param id="0" name="Interval (seconds)">0.025</param>
                        </condition>
                        <condition id="1" name="Compare progress" sid="606359291408002" type="hud_BoostBar">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Value">5</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="3" name="Set progress" sid="302749003711306" type="hud_BoostBar">
                            <param id="0" name="Value">hud_BoostBar.Progress - 0.5</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="678750684639675">
                    <conditions>
                        <condition id="-22" name="Else" sid="932827577751397" type="System" />
                        <condition id="-6" name="Every X seconds" sid="596228183241476" type="System">
                            <param id="0" name="Interval (seconds)">0.025</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="3" name="Set progress" sid="584114090219208" type="hud_BoostBar">
                            <param id="0" name="Value">hud_BoostBar.Progress + 0.030</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="904927474312348">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="467457436651244" type="System" />
                        <condition id="2" name="Mouse button is down" sid="160958985793145" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                        </condition>
                        <condition id="1" name="Compare progress" sid="804532703487146" type="hud_BoostBar">
                            <param id="0" name="Comparison">5</param>
                            <param id="1" name="Value">5</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Bullet" id="0" name="Set speed" sid="820998027328032" type="obj_Player">
                            <param id="0" name="Speed">350</param>
                        </action>
                        <action id="-21" name="Rotate toward position" sid="720389367878496" type="obj_Player">
                            <param id="0" name="Degrees">1.5</param>
                            <param id="1" name="X">mouse.X</param>
                            <param id="2" name="Y">mouse.Y</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="994548806165364">
                    <conditions>
                        <condition id="-22" name="Else" sid="527489284622332" type="System" />
                        <condition id="-6" name="Every X seconds" sid="486323991723531" type="System">
                            <param id="0" name="Interval (seconds)">0.03</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Bullet" id="0" name="Set speed" sid="429775551517247" type="obj_Player">
                            <param id="0" name="Speed">250</param>
                        </action>
                        <action id="-21" name="Rotate toward position" sid="546107194500013" type="obj_Player">
                            <param id="0" name="Degrees">1.5</param>
                            <param id="1" name="X">mouse.X</param>
                            <param id="2" name="Y">mouse.Y</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="972040550051877" title="Js">
            <sub-events>
                <event-group description="" sid="708861914414198" title="Deepstream API">
                    <sub-events>
                        <event-block sid="816903145567571">
                            <conditions>
                                <condition id="-2" name="On start of layout" sid="572957367446632" type="System" />
                            </conditions>
                            <actions>
                                <action id="1" name="Add comment" sid="979400980977600" type="Comments">
                                    <param id="0" name="Comment">&quot;Wait before you begin calling api functions that dont exist&quot;</param>
                                </action>
                                <action id="-16" name="Wait" sid="160769122635353" type="System">
                                    <param id="0" name="Seconds">2.0</param>
                                </action>
                                <action id="1" name="Add comment" sid="947776462089713" type="Comments">
                                    <param id="0" name="Comment">&quot;Connect to the Deepstream test server then log the client in&quot;</param>
                                </action>
                                <action id="12" name="Set function name" sid="557326778709110" type="JSShell">
                                    <param id="0" name="Name">&quot;deepstream&quot;</param>
                                </action>
                                <action id="21" name="Add value" sid="994761094720649" type="JSShell">
                                    <param id="0" name="Value">&quot;wss://013.deepstreamhub.com?apiKey=09f0c702-5fcc-42f1-90f0-83e23fda8ad4&quot;</param>
                                </action>
                                <action id="1" name="Invoke" sid="133674833802170" type="JSShell">
                                    <param id="0" name="Return value">&quot;client&quot;</param>
                                </action>
                                <action id="12" name="Set function name" sid="545200018877806" type="JSShell">
                                    <param id="0" name="Name">&quot;client.login&quot;</param>
                                </action>
                                <action id="1" name="Invoke" sid="547372433864821" type="JSShell">
                                    <param id="0" name="Return value">&quot;&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="887092722405638">
                            <conditions>
                                <condition id="1" name="Callback" sid="213828272019518" type="JSShell">
                                    <param id="0" name="Tag">&quot;Succcess&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="14" name="Log" sid="701264403331510" type="Browser">
                                    <param id="0" name="Type">0</param>
                                    <param id="1" name="Message">&quot;Deepstream-2.2.1 loaded&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="420400295790974">
                            <conditions>
                                <condition id="1" name="Callback" sid="586249235378880" type="JSShell">
                                    <param id="0" name="Tag">&quot;Error&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="14" name="Log" sid="512502480471537" type="Browser">
                                    <param id="0" name="Type">2</param>
                                    <param id="1" name="Message">&quot;Deepstream-2.2.1 failed&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="377387514571654" title="Networked Movement" />
            </sub-events>
        </event-group>
        <event-group description="" sid="596247132314439" title="Debug">
            <sub-events>
                <event-block sid="971733816597725">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="288292815642580" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="291921747082106" type="Debug">
                            <param id="0" name="Text">&quot;Debug&quot;&amp;newline&amp;&quot;Cpu usage-&quot;&amp;cpuutilisation&amp;&quot;%&quot;&amp;newline&amp;&quot;FPS-&quot;&amp;fps&amp;newline&amp;&quot;Object count-&quot;&amp;objectcount&amp;newline&amp;&quot;Renderer-&quot;&amp;renderer&amp;&quot;2.0&quot;&amp;newline&amp;&quot;Image memory usage-&quot;&amp;ImageMemoryUsage&amp;&quot;MB&quot;&amp;newline&amp;&quot;Max Exp-&quot;&amp;&quot;&quot;&amp;stat.var_MaxExp&amp;newline&amp;&quot;Current exp-&quot;&amp;&quot;&quot;&amp;stat.var_BaseExp&amp;newline&amp;&quot;Level-&quot;&amp;&quot;&quot;&amp;stat.var_Level&amp;newline&amp;&quot;Wave length-&quot;&amp;&quot;&quot;&amp;stat.var_WaveLngth&amp;newline&amp;&quot;Wave width-&quot;&amp;&quot;&quot;&amp;stat.var_WaveWidth&amp;newline&amp;&quot;Exp multiplier-&quot;&amp;&quot;&quot;&amp;stat.var_ExpMult&amp;newline&amp;&quot;Rotation speed-&quot;&amp;&quot;&quot;&amp;stat.var_RotSpd&amp;newline&amp;&quot;Movement speed-&quot;&amp;&quot;&quot;&amp;stat.var_MovSpd</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="335246963139388" title="Leveling system">
            <sub-events>
                <event-block sid="631852924516537">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="255237020011474" type="stat">
                            <param id="0" name="Instance variable">var_BaseExp</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">stat.var_MaxExp</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="414834211687057" type="stat">
                            <param id="0" name="Instance variable">var_MaxExp</param>
                            <param id="1" name="Value">stat.var_MaxExp+1000</param>
                        </action>
                        <action id="-11" name="Add to" sid="818062707956897" type="stat">
                            <param id="0" name="Instance variable">var_Level</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="593416915598793" type="stat">
                            <param id="0" name="Instance variable">var_BaseExp</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-11" name="Add to" sid="504656782411886" type="stat">
                            <param id="0" name="Instance variable">var_WaveLngth</param>
                            <param id="1" name="Value">10</param>
                        </action>
                        <action id="-11" name="Add to" sid="326038693548086" type="stat">
                            <param id="0" name="Instance variable">var_WaveWidth</param>
                            <param id="1" name="Value">10</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="434718047012505">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="174932487485878" type="obj_Player">
                            <param id="0" name="Object">Sprite2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="216589111252363" type="stat">
                            <param id="0" name="Instance variable">var_BaseExp</param>
                            <param id="1" name="Value">100</param>
                        </action>
                        <action id="-9" name="Destroy" sid="448282158073960" type="Sprite2" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="392923479855186" title="Wave shit" />
        <event-block sid="149615839261693">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="674796988442806" type="System">
                    <param id="0" name="Interval (seconds)">0.1</param>
                </condition>
            </conditions>
            <actions>
                <action id="-3" name="Create object" sid="750871090114907" type="System">
                    <param id="0" name="Object to create">wv</param>
                    <param id="1" name="Layer">obj_Player.LayerName</param>
                    <param id="2" name="X">obj_Player.X</param>
                    <param id="3" name="Y">obj_Player.Y</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
